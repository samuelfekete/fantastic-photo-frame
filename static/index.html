<html>
    <head>
    <style>
    html {
        height: 100%;
        overflow: hidden;
    }

    body {
        text-align: center;
        background: url("paper.png") repeat scroll 0% 0% transparent;
        /* Background pattern from subtlepatterns.com */
    }

    #frame {
        border-width: 5px;
        border-style: solid;
        border-color: rgba(25, 25, 25, 0.7) rgba(250, 250, 250, 0.95) rgba(200, 200, 200, 0.95) rgba(50, 50, 50, 0.65);
        border-image: none;
        background: transparent url(images/photo.jpg) no-repeat scroll 50% center / 100% auto;
        max-height: calc(100% - 80px);
        max-width: calc(100% - 80px);
        position: absolute; top: 50%;
        transform: translate(-50%, -50%);
        left: 50%;
        box-sizing: border-box;
        box-shadow: 3px 3px 20px 5px rgba(0, 0, 0, 0.5) inset;
    }

    img {
        max-width: calc(100% - 80px);
        max-height: calc(100% - 80px);
        border-style: solid;
        border-width: 5px;
        box-sizing: border-box;
        opacity: 0;
    }
  
  </style>
  </head>
  <body>
  <div id="frame">
     <img id="picture" src="images/photo.jpg">
  </div>
    
    
<script type="text/javascript">

function changePicture() {
  var httpRequest = new XMLHttpRequest();
  httpRequest.onreadystatechange = handleResponse;
  httpRequest.open('GET', '/next_image');
  httpRequest.setRequestHeader('Cache-Control', 'no-cache');
  httpRequest.send();

  function handleResponse() {
    if (httpRequest.readyState === XMLHttpRequest.DONE &&
        httpRequest.status === 200)
    {
       document.getElementById("picture").src = httpRequest.responseText;
       document.getElementById("frame").style.backgroundImage = 'url(' + httpRequest.responseText + ')';
    }
  }
}

setInterval(changePicture, 5000);

</script>

  </body>
</html>